// jQuery Mask Plugin v1.4.1
// github.com/igorescobar/jQuery-Mask-Plugin
(function (h) {
    var w = function (a, g, e) {
        var k = this, n; a = h(a); g = "function" === typeof g ? g(a.val(), void 0, a, e) : g; k.init = function () {
            e = e || {}; k.byPassKeys = [9, 16, 17, 18, 36, 37, 38, 39, 40, 91]; k.translation = { 0: { pattern: /\d/ }, 9: { pattern: /\d/, optional: !0 }, "#": { pattern: /\d/, recursive: !0 }, A: { pattern: /[a-zA-Z0-9]/ }, S: { pattern: /[a-zA-Z]/ } }; k.translation = h.extend({}, k.translation, e.translation); k = h.extend(!0, {}, k, e); a.each(function () {
                !1 !== e.maxlength && a.attr("maxlength", g.length); a.attr("autocomplete", "off"); f.destroyEvents();
                f.events(); f.val(f.getMasked())
            })
        }; var f = {
            getCaret: function () { var c; c = 0; var b = a.get(0); if (document.selection && -1 === navigator.appVersion.indexOf("MSIE 10")) b.focus(), c = document.selection.createRange(), c.moveStart("character", -b.value.length), c = c.text.length; else if (b.selectionStart || "0" === b.selectionStart) c = b.selectionStart; return c }, setCaret: function (c) {
                var b; b = a.get(0); b.setSelectionRange ? (b.focus(), b.setSelectionRange(c, c)) : b.createTextRange && (b = b.createTextRange(), b.collapse(!0), b.moveEnd("character",
                c), b.moveStart("character", c), b.select())
            }, events: function () { a.on("keydown.mask", function () { n = f.val() }); a.on("keyup.mask", f.behaviour); a.on("paste.mask", function () { setTimeout(function () { a.keydown().keyup() }, 100) }) }, destroyEvents: function () { a.off("keydown.mask").off("keyup.mask").off("paste.mask") }, val: function (c) { var b = "input" === a.get(0).tagName.toLowerCase(); return 0 < arguments.length ? b ? a.val(c) : a.text(c) : b ? a.val() : a.text() }, behaviour: function (c) {
                c = c || window.event; if (-1 === h.inArray(c.keyCode || c.which,
                k.byPassKeys)) { var b, a = f.getCaret(); a < f.val().length && (b = !0); f.val(f.getMasked()); b && f.setCaret(a); return f.callbacks(c) }
            }, getMasked: function () {
                var a = [], b = f.val(), d = 0, h = g.length, l = 0, n = b.length, m = 1, s = "push", p = -1, q, t; e.reverse ? (s = "unshift", m = -1, q = 0, d = h - 1, l = n - 1, t = function () { return -1 < d && -1 < l }) : (q = h - 1, t = function () { return d < h && l < n }); for (; t() ;) {
                    var u = g.charAt(d), v = b.charAt(l), r = k.translation[u]; r ? (v.match(r.pattern) ? (a[s](v), r.recursive && (-1 === p ? p = d : d === q && (d = p - m), q === p && (d -= m)), d += m) : r.optional && (d += m,
                    l -= m), l += m) : (a[s](u), v === u && (l += m), d += m)
                } return a.join("")
            }, callbacks: function (c) { var b = f.val(), d = f.val() !== n; if (!0 === d && "function" === typeof e.onChange) e.onChange(b, c, a, e); if (!0 === d && "function" === typeof e.onKeyPress) e.onKeyPress(b, c, a, e); if ("function" === typeof e.onComplete && b.length === g.length) e.onComplete(b, c, a, e) }
        }; k.remove = function () { f.destroyEvents(); f.val(k.getCleanVal()).removeAttr("maxlength") }; k.getCleanVal = function () {
            for (var a = [], b = f.val(), d = 0, e = g.length; d < e; d++) k.translation[g.charAt(d)] &&
            a.push(b.charAt(d)); return a.join("")
        }; k.init()
    }; h.fn.mask = function (a, g) { return this.each(function () { h(this).data("mask", new w(this, a, g)) }) }; h.fn.unmask = function () { return this.each(function () { try { h(this).data("mask").remove() } catch (a) { } }) }; h("input[data-mask]").each(function () { var a = h(this), g = {}; "true" === a.attr("data-mask-reverse") && (g.reverse = !0); "false" === a.attr("data-mask-maxlength") && (g.maxlength = !1); a.mask(a.attr("data-mask"), g) })
})(window.jQuery || window.Zepto);
(function (e) { function t() { var e = document.createElement("input"), t = "onpaste"; return e.setAttribute(t, ""), "function" == typeof e[t] ? "paste" : "input" } var n, a = t() + ".masked", r = navigator.userAgent, i = /iphone/i.test(r), o = /android/i.test(r); e.masked = { definitions: { 9: "[0-9]", a: "[A-Za-z]", "*": "[A-Za-z0-9]" }, dataName: "rawmaskedFn", placeholder: "_" }, e.fn.extend({ caret: function (e, t) { var n; if (0 !== this.length && !this.is(":hidden")) return "number" == typeof e ? (t = "number" == typeof t ? t : e, this.each(function () { this.setSelectionRange ? this.setSelectionRange(e, t) : this.createTextRange && (n = this.createTextRange(), n.collapse(!0), n.moveEnd("character", t), n.moveStart("character", e), n.select()) })) : (this[0].setSelectionRange ? (e = this[0].selectionStart, t = this[0].selectionEnd) : document.selection && document.selection.createRange && (n = document.selection.createRange(), e = 0 - n.duplicate().moveStart("character", -1e5), t = e + n.text.length), { begin: e, end: t }) }, unmasked: function () { return this.trigger("unmasked") }, masked: function (t, r) { var c, l, s, u, f, h; return !t && this.length > 0 ? (c = e(this[0]), c.data(e.masked.dataName)()) : (r = e.extend({ placeholder: e.masked.placeholder, completed: null }, r), l = e.masked.definitions, s = [], u = h = t.length, f = null, e.each(t.split(""), function (e, t) { "?" == t ? (h--, u = e) : l[t] ? (s.push(RegExp(l[t])), null === f && (f = s.length - 1)) : s.push(null) }), this.trigger("unmasked").each(function () { function c(e) { for (; h > ++e && !s[e];); return e } function d(e) { for (; --e >= 0 && !s[e];); return e } function m(e, t) { var n, a; if (!(0 > e)) { for (n = e, a = c(t) ; h > n; n++) if (s[n]) { if (!(h > a && s[n].test(R[a]))) break; R[n] = R[a], R[a] = r.placeholder, a = c(a) } b(), x.caret(Math.max(f, e)) } } function p(e) { var t, n, a, i; for (t = e, n = r.placeholder; h > t; t++) if (s[t]) { if (a = c(t), i = R[t], R[t] = n, !(h > a && s[a].test(i))) break; n = i } } function g(e) { var t, n, a, r = e.which; 8 === r || 46 === r || i && 127 === r ? (t = x.caret(), n = t.begin, a = t.end, 0 === a - n && (n = 46 !== r ? d(n) : a = c(n - 1), a = 46 === r ? c(a) : a), k(n, a), m(n, a - 1), e.preventDefault()) : 27 == r && (x.val(S), x.caret(0, y()), e.preventDefault()) } function v(t) { var n, a, i, l = t.which, u = x.caret(); t.ctrlKey || t.altKey || t.metaKey || 32 > l || l && (0 !== u.end - u.begin && (k(u.begin, u.end), m(u.begin, u.end - 1)), n = c(u.begin - 1), h > n && (a = String.fromCharCode(l), s[n].test(a) && (p(n), R[n] = a, b(), i = c(n), o ? setTimeout(e.proxy(e.fn.caret, x, i), 0) : x.caret(i), r.completed && i >= h && r.completed.call(x))), t.preventDefault()) } function k(e, t) { var n; for (n = e; t > n && h > n; n++) s[n] && (R[n] = r.placeholder) } function b() { x.val(R.join("")) } function y(e) { var t, n, a = x.val(), i = -1; for (t = 0, pos = 0; h > t; t++) if (s[t]) { for (R[t] = r.placeholder; pos++ < a.length;) if (n = a.charAt(pos - 1), s[t].test(n)) { R[t] = n, i = t; break } if (pos > a.length) break } else R[t] === a.charAt(pos) && t !== u && (pos++, i = t); return e ? b() : u > i + 1 ? (x.val(""), k(0, h)) : (b(), x.val(x.val().substring(0, i + 1))), u ? t : f } var x = e(this), R = e.map(t.split(""), function (e) { return "?" != e ? l[e] ? r.placeholder : e : void 0 }), S = x.val(); x.data(e.masked.dataName, function () { return e.map(R, function (e, t) { return s[t] && e != r.placeholder ? e : null }).join("") }), x.attr("readonly") || x.one("unmasked", function () { x.unbind(".masked").removeData(e.masked.dataName) }).bind("focus.masked", function () { clearTimeout(n); var e; S = x.val(), e = y(), n = setTimeout(function () { b(), e == t.length ? x.caret(0, e) : x.caret(e) }, 10) }).bind("blur.masked", function () { y(), x.val() != S && x.change() }).bind("keydown.masked", g).bind("keypress.masked", v).bind(a, function () { setTimeout(function () { var e = y(!0); x.caret(e), r.completed && e == x.val().length && r.completed.call(x) }, 0) }), y() })) } }) })(jQuery);